#include <sys/types.h>
#include <stdio.h>
#include <unistd.h>
#include <sys/wait.h>

int main(int argc, char* argv[]){
  int id = fork();
  int pfils, pid_f;
  printf("%d\n", id);
  if(id == 0){
    printf("Le processus fils vient d'être crée\n");
    printf("COMMANDES EXECUTÉES PAR LE PROC. FILS\n");
    pfils = 1;
    sleep(5);
    printf("Je suis le fils, mon père a pour PID : %d", getppid());
    pid_f = getpid();
  }
  else {
    pfils = 0;
    printf("Aucun processus fils\n");
    sleep(5);
    printf("COMMANDES EXECUTÉES PAR LE PROC. PÈRE\n");
    printf("\n******************************************\n");
    printf("Je suis le père, mon fils a pour PID : %d\n", pid_f);
  }
  return 0;
}
