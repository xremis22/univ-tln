#include <stdio.h>
#include <signal.h>
#include <sys/types.h>
#include <unistd.h>
#include <sys/wait.h>


/*

int main(void){
  signal(SIGUSR1, traitersignal);
  while(1);
}
*/
void traitersignal(int sig){
  printf("Signal %d bien re√ßu\n", sig);
}

int main(int argc, char** argv){
  int n = 0,
  id = fork(),
  pid_f;
  char * end;

  if(id == 0){ /*PROC FILS*/
    kill(getppid(),SIGUSR1);
    pid_f = getpid();
  }

  else { /*PROC PERE*/
    while (1){
      signal(SIGUSR1, traitersignal);
      pause();
      printf("PID du fils : %d\n", pid_f);
      printf("R(ecommencer)/T(erminer) ? \n");
      scanf("%c" &end);
      if(end == 'T'){
        break;
      }
    }
  }
}
